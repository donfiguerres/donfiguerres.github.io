<!doctype html><html>
<head>
<title>Git Connection Errors During Cloning</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge">
<link rel=stylesheet href=/css/bootstrap.min.css>
<link rel=stylesheet href=/css/layouts/main.css>
<link rel=stylesheet href=/css/style.css>
<link rel=stylesheet href=/css/navigators/navbar.css>
<link rel=stylesheet href=/css/plyr.css>
<link rel=stylesheet href=/css/flag-icon.min.css>
<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css>
<link rel=icon type=image/png href=/images/favicon_hu8376fd15465fef26ffe66b6bcf0ca686_13669_42x0_resize_box_3.png>
<link rel=stylesheet href=/css/style.css>
<meta name=description content="Various errors in git like 'fatal: fetch-pack: invalid index-pack output' when cloning a big repo.">
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css>
<link rel=stylesheet href=/css/layouts/single.css>
<link rel=stylesheet href=/css/navigators/sidebar.css>
</head>
<body data-spy=scroll data-target=#TableOfContents data-offset=80>
<div id=themeInitialization style=display:none default-theme=" dark "></div>
<div class="container-fluid bg-dimmed wrapper">
<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
<div class=container>
<button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span>
</button>
<a class=navbar-brand href=/>
<img src=/images/main-logo_hu864bbe108f1be1ae04b57f7f2fd9d631_5637_42x0_resize_box_3.png alt=Logo>Don Figuerres</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse lang-selector" id=top-nav-items>
<ul class="navbar-nav ml-auto">
</ul>
</div>
</div>
<img src=/images/main-logo_hu864bbe108f1be1ae04b57f7f2fd9d631_5637_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/inverted-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo">
</nav>
<section class=sidebar-section id=sidebar-section>
<div class=sidebar-holder>
<div class=sidebar id=sidebar>
<form class=mx-auto method=get action=/search>
<input type=text name=keyword placeholder=Search data-search id=search-box>
</form>
<div class=sidebar-tree>
<ul class=tree id=tree>
<li id=list-heading><a href=/posts data-filter=all>Posts</a></li>
<div class=subtree>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/programming-tutorials/>Programming Tutorials</a>
<ul>
<li><a href=/posts/programming-tutorials/factorial/ title=Factorial>Factorial</a></li>
<li><a href=/posts/programming-tutorials/fibonacci-sequence/ title="Fibonacci Sequence">Fibonacci Sequence</a></li>
</ul>
</li>
<li>
<i class="fas fa-minus-circle"></i><a class=active href=/posts/version-control/>Version Control</a>
<ul class=active>
<li>
<i class="fas fa-minus-circle"></i><a class=active href=/posts/version-control/git/>Git</a>
<ul class=active>
<li><a href=/posts/version-control/git/changing-committer-author-and-email-in-git/ title="Changing Committer, Author, and Email in Git">Changing Committer, Author, and Email in Git</a></li>
<li><a class=active href=/posts/version-control/git/git-connection-errors-during-cloning/ title="Git Connection Errors During Cloning">Git Connection Errors During Cloning</a></li>
</ul>
</li>
</ul>
</li>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/virtualbox/>Virtualbox</a>
<ul>
<li><a href=/posts/virtualbox/centos-7-virtualbox-5-2/ title="CentOS 7 VirtualBox 5.2 Error">CentOS 7 VirtualBox 5.2 Error</a></li>
</ul>
</li>
</div>
</ul>
</div>
</div>
</div>
</section>
<section class=content-section id=content-section>
<div class=content>
<div class="container p-0 read-area">
<div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://donfiguerres.github.io/posts/version-control/git/git-connection-errors-during-cloning/images/git-error.png)>
</div>
<div class=page-content>
<div class="author-profile ml-auto align-self-lg-center">
<img class=rounded-circle src=/images/profile_cropped.jpg alt="Author Image">
<h5 class=author-name>Don Figuerres</h5>
<p>January 14, 2022</p>
</div>
<div class=title>
<h1>Git Connection Errors During Cloning</h1>
</div>
<div class=post-content id=post-content>
<p>I got these errors recently when I was trying to clone one of our repos.
Unstable network connection or network infrastructure may have caused this so
as a workaround, you can clone the repo &ldquo;bit-by-bit&rdquo;.</p>
<pre tabindex=0><code>$ git clone ssh://git@your.host.com/yourrepo.git
Cloning into 'projectdir'...
    ...
remote: Enumerating objects: 26639, done.
remote: Counting objects: 100% (269/269), done.
remote: Compressing objects: 100% (152/152), done.
client_loop: send disconnect: Connection reset by peer6 MiB/s
fetch-pack: unexpected disconnect while reading sideband packet
fatal: fetch-pack: invalid index-pack output
</code></pre><pre tabindex=0><code>$ git clone ssh://git@your.host.com/yourrepo.git
Cloning into 'projectdir'...
    ...
remote: Enumerating objects: 26639, done.
remote: Counting objects: 100% (269/269), done.
remote: Compressing objects: 100% (152/152), done.
client_loop: send disconnect: Connection reset by peer9 MiB/s
fatal: early EOF
fatal: fetch-pack: invalid index-pack outputing sideband packet
</code></pre><h2 id=workaround>Workaround</h2>
<p>The workaround is to checkout the repo bit-by-bit.</p>
<h3 id=disable-compression>Disable Compression</h3>
<p>Not sure how this exactly helps but some users in the stackoverflow reference
claim that this actually fixed their error. No harm in trying. You will enable
it again in the succeeding steps.</p>
<pre tabindex=0><code>$ git config --global core.compression 0
</code></pre><h3 id=clone-the-repo>Clone the Repo</h3>
<p>Now, clone the repo using a depth of 1.</p>
<pre tabindex=0><code>$ git clone --depth 1 &lt;repo_URI&gt;
</code></pre><p>example:</p>
<pre tabindex=0><code>$ git clone --depth 1 ssh://git@your.host.com/yourrepo.git
</code></pre><h3 id=enable-compression>Enable Compression</h3>
<p>Set compression back to default.</p>
<pre tabindex=0><code>$ git config --global --unset core.compression
</code></pre><h3 id=retrieve-the-rest-of-the-repo>Retrieve the Rest of the Repo</h3>
<p>Try to retrieve the other commits.</p>
<pre tabindex=0><code>$ git fetch --unshallow
</code></pre><p>Then try to fetch all branches. Note that in the command below, it is assumed
that the remote repository is named &lsquo;origin&rsquo;. You should change it to the name
of your remote repository if otherwise.</p>
<pre tabindex=0><code>$ git config remote.origin.fetch +refs/heads/*:refs/remotes/origin/*
$ git fetch --all
</code></pre><p>References:</p>
<ul>
<li><a href=https://stackoverflow.com/questions/21277806/fatal-early-eof-fatal-index-pack-failed>https://stackoverflow.com/questions/21277806/fatal-early-eof-fatal-index-pack-failed</a></li>
<li><a href=https://stackoverflow.com/questions/20338500/git-repository-lost-its-remote-branches>https://stackoverflow.com/questions/20338500/git-repository-lost-its-remote-branches</a></li>
<li><a href=https://stackoverflow.com/questions/11868447/how-can-i-remove-an-entry-in-global-configuration-with-git-config>https://stackoverflow.com/questions/11868447/how-can-i-remove-an-entry-in-global-configuration-with-git-config</a></li>
</ul>
</div>
<div class=btn-improve-page>
<a href=https://github.com/donfiguerres/donfiguerres.github.io/edit/main/content/posts/version-control/git/git-connection-errors-during-cloning/index.md title="Improve this page" target=_blank rel=noopener>
<i class="fas fa-code-branch"></i>
Improve this page
</a>
</div>
<hr>
<div class="row next-prev-navigator">
<div class="col-md-6 previous-article">
<a href=/search/ title="অনুসন্ধানের ফলাফল" class="btn btn-outline-info">
<div><i class="fas fa-chevron-circle-left"></i> Prev</div>
<div class=next-prev-text>অনুসন্ধানের ফলাফল</div>
</a>
</div>
<div class="col-md-6 next-article">
<a href=/posts/version-control/git/changing-committer-author-and-email-in-git/ title="Changing Committer, Author, and Email in Git" class="btn btn-outline-info">
<div>Next <i class="fas fa-chevron-circle-right"></i></div>
<div class=next-prev-text>Changing Committer, Author, and Email in Git</div>
</a>
</div>
</div>
<hr>
</div>
</div>
</div>
<a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a>
</section>
<section class=toc-section id=toc-section>
<div class=toc-holder>
<h5 class="text-center pl-3">Table of Contents</h5>
<hr>
<div class=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#workaround>Workaround</a>
<ul>
<li><a href=#disable-compression>Disable Compression</a></li>
<li><a href=#clone-the-repo>Clone the Repo</a></li>
<li><a href=#enable-compression>Enable Compression</a></li>
<li><a href=#retrieve-the-rest-of-the-repo>Retrieve the Rest of the Repo</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
</section>
</div>
<footer class="container-fluid text-center align-content-center footer pb-2">
<div class="container pt-5">
<div class="row text-left">
<div class="col-md-4 col-sm-12">
<h5>Navigation</h5>
<ul>
<li class=nav-item>
<a class=smooth-scroll href=/#about>About</a>
</li>
<li class=nav-item>
<a class=smooth-scroll href=/#skills>Skills</a>
</li>
<li class=nav-item>
<a class=smooth-scroll href=/#experiences>Experiences</a>
</li>
<li class=nav-item>
<a class=smooth-scroll href=/#projects>Projects</a>
</li>
<li class=nav-item>
<a class=smooth-scroll href=/#education>Education</a>
</li>
<li class=nav-item>
<a class=smooth-scroll href=/#recent-posts>Recent Posts</a>
</li>
</ul>
</div>
<div class="col-md-4 col-sm-12">
<h5>Contact me:</h5>
<ul>
<li><span>Email: </span> <span>lyndonfiguerres@gmail.com</span></li>
</ul>
</div>
<div class="col-md-4 col-sm-12">
<p>Stay up to date with email notification</p>
<form>
<div class=form-group>
<input type=email class=form-control id=exampleInputEmail1 aria-describedby=emailHelp placeholder="Enter email">
<small id=emailHelp class="form-text text-muted">We'll never share your email with anyone else.</small>
</div>
<button type=submit class="btn btn-info">Submit</button>
</form>
</div>
</div>
</div>
<hr>
<div class=container>
<div class="row text-left">
<div class=col-md-4>
<a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener>
<img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha
</a>
</div>
<div class="col-md-4 text-center">© 2021 Copyright.</div>
<div class="col-md-4 text-right">
<a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18>
</a>
</div>
</div>
</div>
</footer>
<script type=text/javascript src=/js/jquery-3.4.1.min.js></script>
<script type=text/javascript src=/js/popper.min.js></script>
<script type=text/javascript src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/navbar.js></script>
<script type=text/javascript src=/js/plyr.js></script>
<script type=text/javascript src=/js/main.js></script>
<script type=text/javascript src=https://cdn.jsdelivr.net/npm/darkreader@4.9.34/darkreader.js></script>
<script type=text/javascript src=/js/darkmode.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=/js/single.js></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>